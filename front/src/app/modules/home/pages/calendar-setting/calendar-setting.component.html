<div class="flex justify-center items-center w-full gap-4 flex-col pb-24"
     xmlns="http://www.w3.org/1999/html">
  <div class="w-3/4">
    <section class="container px-4 mx-auto">

      <div class="w-full text-center font-bold text-slate-500 uppercase text-2xl">
        <span>Configuración de calendario de postulación a los servicios</span>
      </div>

      <div class="flex flex-col mt-6">
        <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
          <div class="inline-block min-w-full py-2 align-middle md:px-6 lg:px-8">
            <div class="p-4 flex space-x-4 w-full ">
              <div>
                <button (click)="addItem()"
                  class="flex items-center justify-center capitalize px-5 py-2 text-sm text-gray-500 transition-colors duration-200 bg-white border rounded-md gap-x-2 hover:bg-gray-100">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 512 512">
                    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                          stroke-width="32" d="M256 112v288M400 256H112"/>
                  </svg>
                  Agregar
                </button>
              </div>
            </div>
            <div class="overflow-hidden border border-gray-200 md:rounded-lg">
              <table [formGroup]="formCalendar" class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                <tr>
                  <th scope="col" class="py-3.5 px-4 text-sm font-normal text-left rtl:text-right text-gray-500"
                      colspan="2" width="20%" rowspan="1">
                    <button class="flex font-bold items-center gap-x-3 focus:outline-none">
                      <span>Fecha</span>

                      <svg class="h-3" viewBox="0 0 10 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z"
                          fill="currentColor" stroke="currentColor" stroke-width="0.1"/>
                        <path
                          d="M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z"
                          fill="currentColor" stroke="currentColor" stroke-width="0.1"/>
                        <path
                          d="M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z"
                          fill="currentColor" stroke="currentColor" stroke-width="0.3"/>
                      </svg>
                    </button>
                  </th>

                  <th scope="col" width="80%"
                      class="px-12 py-3.5 text-sm text-center rtl:text-right text-gray-500 font-bold">
                    Detalle
                  </th>
                  <th scope="col" width="80%"
                      class="px-12 py-3.5 text-sm text-center rtl:text-right text-gray-500 font-bold">
                    Opciones
                  </th>
                </tr>
                </thead>
                <tbody formArrayName="items" class="bg-white divide-y divide-gray-200">
                <ng-container *ngFor="let item of items.controls; let i = index"
                              [formGroupName]="i">
                  <tr>

                    <td class="p-2 text-center align-middle whitespace-nowrap border-r border-gray-200" scope="row">
                      <span>{{ formCalendar.get('start_date')?.value | date: 'MMM d y' }}</span>
                      <div>
                        <input type="date" name="date-init" id="date-init" formControlName="start_date"
                               class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                               required/>
                      </div>
                    </td>
                    <td class="p-2 align-middle text-sm font-medium border-r border-gray-200 whitespace-nowrap"
                        scope="row">
                      <span>{{ formCalendar.get('end_date')?.value | date: 'MMM d y' }}</span>
                      <div>
                        <input
                          type="date"
                          name="date-end"
                          id="date-end"
                          formControlName="end_date"
                          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                        />
                      </div>
                    </td>
                    <td class="px-12 py-4 text-sm font-medium whitespace-wrap">
                      <div class="font-bold w-full text-slate-500">
                        <input
                          type="text"
                          class="w-full px-4 py-2 text-sm text-gray-900 placeholder-gray-500 border border-gray-400 rounded focus:outline-none focus:border-gray-500"
                          formControlName="title"
                        />
                      </div>
                      <div class="w-full text-slate-500 text-sm mt-2">
              <textarea
                class="form-control w-full px-4 py-2 border border-gray-400 rounded focus:outline-none focus:border-gray-500"
                id="description"
                  formControlName="description"
                  ></textarea>
                      </div>
                    </td>

                    <td class="px-12 py-4 text-sm font-medium whitespace-wrap">
                      <div class="cursor-pointer"
                           (click)="deleteItem(i)">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 512 512">
                          <path fill="none" stroke="currentColor" stroke-linecap="round"
                                stroke-linejoin="round" stroke-width="32"
                                d="M448 80H352V40C352 28.7 343.3 20 332 20H180C168.7 20 160 28.7 160 40V80H64C53.7 80 45 88.7 45 100C45 111.3 53.7 120 64 120H448C458.3 120 467 111.3 467 100C467 88.7 458.3 80 448 80zM384 480C384 493.3 373.3 504 360 504H152C138.7 504 128 493.3 128 480V120H384V480z"/>
                        </svg>
                      </div>
                    </td>

                  </tr>
                </ng-container>

                </tbody>
              </table>


            </div>
            <button (click)="saveForm()"
              type="button"
              class="focus:outline-none mt-4 h-full text-white hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 flex items-center gap-2"
              style="background: #1abb9c; white-space: nowrap;"
            >
              Guardar
            </button>
          </div>
        </div>
      </div>

      <div *ngIf="false" class="mt-6 sm:flex sm:items-center sm:justify-between ">
        <div class="text-sm text-gray-500">
          Página <span class="font-medium text-gray-700">1 de 10</span>
        </div>

        <div class="flex items-center mt-4 gap-x-4 sm:mt-0">
          <button
            class="flex items-center justify-center w-1/2 px-5 py-2 text-sm text-gray-700 capitalize transition-colors duration-200 bg-white border rounded-md sm:w-auto gap-x-2 hover:bg-gray-100">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                 stroke="currentColor" class="w-5 h-5 rtl:-scale-x-100">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"/>
            </svg>
            <span>Anterior</span>
          </button>

          <button
            class="flex items-center justify-center w-1/2 px-5 py-2 text-sm text-gray-700 capitalize transition-colors duration-200 bg-white border rounded-md sm:w-auto gap-x-2 hover:bg-gray-100">
            <span>Siguiente</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                 stroke="currentColor" class="w-5 h-5 rtl:-scale-x-100">
              <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"/>
            </svg>
          </button>
        </div>
      </div>
    </section>
  </div>
</div>

<app-block-ui [show]="isLoading"></app-block-ui>
<app-toast></app-toast>
