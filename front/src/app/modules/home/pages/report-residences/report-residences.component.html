<div
  class="w-full px-8 py-12 overflow-auto pb-24"
  style="height: calc(100vh - 64px)"
>
  <div class="flex flex-col space-y-8">
    <div class="w-full text-slate-500 text-center uppercase font-bold text-xl flex space-x-4 justify-between">
      <span>Datos de los residentes universitarios por convocatoria</span>
      <div class="flex space-x-4">
        <div class="flex flex-row max-w-md space-x-2" >
          <select (change)="onChangeSubmission($event)" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" title="Seleccionar convocatoria">
            <option selected hidden>{{submissionSelected? submissionSelected.nombre : ''}}</option>
            <option *ngFor="let announcement of submissions" [value]="announcement.id">
              {{ announcement.nombre}}
            </option>
          </select>
          <div class="justify-between rounded-lg p-1 bg-emerald-500 text-white max-w-md rounded-lg block border" title="Reporte de residentes">
          <button (click)="exportReport()" title="Exportar reporte" class="">
            <div  class="text-2xl font-bold">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
                <path d="M9 15l2 2 4-4"/>
              </svg>
            </div>
          </button>
        </div>
        </div>

      </div>
    </div>

    <div class="grid sm:grid-cols-2 md:grid-cols-4 justify-center items-center gap-8 w-full">
      <div
        class="chip-status-aprobado flex justify-between rounded-lg p-5 shadow-xl"
      >
        <div class="text-slate-500">
          <h6 class="text-sm">Total de residentes</h6>
          <h1 class="text-2xl font-bold">
            {{ totalResidents }}
          </h1>
        </div>
        <div>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6 text-emerald-500"
            viewBox="0 0 512 512"
          >
            <path
              d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"
              fill="none"
              stroke="currentColor"
              stroke-miterlimit="10"
              stroke-width="32"
            />
            <path
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="32"
              d="M352 176L217.6 336 160 272"
            />
          </svg>
        </div>
      </div>

      <div
        class="chip-status-aceptado flex justify-between rounded-lg p-5 shadow-xl"
      >
        <div class="text-slate-500">
          <h6 class="text-sm">Residentes asignados</h6>
          <h1 class="text-2xl font-bold">
            {{ totalResidentsAssigned }}
          </h1>
        </div>
        <div>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6 text-sky-500"
            viewBox="0 0 512 512"
          >
            <path
              class="stroke-sky-500"
              d="M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48"
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="32"
            />
            <path
              class="fill-sky-500"
              d="M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z"
            />
          </svg>
        </div>
      </div>

      <div
        class="chip-status-pendiente flex justify-between rounded-lg p-5 shadow-xl"
      >
        <div class="text-slate-500">
          <h6 class="text-sm">Residentes sin asignaci√≥n</h6>
          <h1 class="text-2xl font-bold">
            {{ totalResidentsNotAssigned }}
          </h1>
        </div>
        <div>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6 text-amber-500"
            viewBox="0 0 512 512"
          >
            <path
              d="M416.07 272a160 160 0 10-160 160 160 160 0 00160-160zM142.12 91.21A46.67 46.67 0 00112 80l-2.79.08C83.66 81.62 64 104 64.07 131c0 13.21 4.66 19.37 10.88 27.23a4.55 4.55 0 003.24 1.77h.88a3.23 3.23 0 002.54-1.31L142.38 99a5.38 5.38 0 001.55-4 5.26 5.26 0 00-1.81-3.79zM369.88 91.21A46.67 46.67 0 01400 80l2.79.08C428.34 81.62 448 104 447.93 131c0 13.21-4.66 19.37-10.88 27.23a4.55 4.55 0 01-3.24 1.76h-.88a3.23 3.23 0 01-2.54-1.31L369.62 99a5.38 5.38 0 01-1.55-4 5.26 5.26 0 011.81-3.79z"
              fill="none"
              stroke="currentColor"
              stroke-miterlimit="10"
              stroke-width="32"
            />
            <path
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="32"
              d="M256.07 160v112h-80M416.07 432l-40-40M96.07 432l40-40"
            />
          </svg>
        </div>
      </div>

    </div>

    <div class="w-full text-slate-500 text-center uppercase font-bold text-xl">
      <span
        >GRAFICO DE ALUMNOS USUARIOS DE LAS RESIDENCIAS UNIVERSITARIAS POR FACULTAD
        Y RESIDENCIA</span
      >
    </div>

    <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 justify-center items-center gap-8 w-full">
      <div>
        <apx-chart
          [series]="chartBarrasHFacultad.series"
          [chart]="chartBarrasHFacultad.chart"
          [dataLabels]="chartBarrasHFacultad.dataLabels"
          [plotOptions]="chartBarrasHFacultad.plotOptions"
          [yaxis]="chartBarrasHFacultad.yaxis"
          [legend]="chartBarrasHFacultad.legend"
          [fill]="chartBarrasHFacultad.fill"
          [stroke]="chartBarrasHFacultad.stroke"
          [tooltip]="chartBarrasHFacultad.tooltip"
          [xaxis]="chartBarrasHFacultad.xaxis"
          [title]="chartBarrasHFacultad.title"
        ></apx-chart>
      </div>
      <div>
        <apx-chart
          [series]="chartBarrasHResidencia.series"
          [chart]="chartBarrasHResidencia.chart"
          [dataLabels]="chartBarrasHResidencia.dataLabels"
          [plotOptions]="chartBarrasHResidencia.plotOptions"
          [yaxis]="chartBarrasHResidencia.yaxis"
          [legend]="chartBarrasHResidencia.legend"
          [fill]="chartBarrasHResidencia.fill"
          [stroke]="chartBarrasHResidencia.stroke"
          [tooltip]="chartBarrasHResidencia.tooltip"
          [xaxis]="chartBarrasHResidencia.xaxis"
          [title]="chartBarrasHResidencia.title"
        ></apx-chart>
      </div>
      <div>
        <apx-chart
          [series]="chartBarrasHGeneroFacultad.series"
          [chart]="chartBarrasHGeneroFacultad.chart"
          [dataLabels]="chartBarrasHGeneroFacultad.dataLabels"
          [plotOptions]="chartBarrasHGeneroFacultad.plotOptions"
          [yaxis]="chartBarrasHGeneroFacultad.yaxis"
          [legend]="chartBarrasHGeneroFacultad.legend"
          [fill]="chartBarrasHGeneroFacultad.fill"
          [stroke]="chartBarrasHGeneroFacultad.stroke"
          [tooltip]="chartBarrasHGeneroFacultad.tooltip"
          [xaxis]="chartBarrasHGeneroFacultad.xaxis"
          [title]="chartBarrasHGeneroFacultad.title"
        ></apx-chart>
      </div>
      <div>
        <apx-chart
          [series]="chartBarrasHDepartamento.series"
          [chart]="chartBarrasHDepartamento.chart"
          [dataLabels]="chartBarrasHDepartamento.dataLabels"
          [plotOptions]="chartBarrasHDepartamento.plotOptions"
          [yaxis]="chartBarrasHDepartamento.yaxis"
          [legend]="chartBarrasHDepartamento.legend"
          [fill]="chartBarrasHDepartamento.fill"
          [stroke]="chartBarrasHDepartamento.stroke"
          [tooltip]="chartBarrasHDepartamento.tooltip"
          [xaxis]="chartBarrasHDepartamento.xaxis"
          [title]="chartBarrasHDepartamento.title"
        ></apx-chart>
      </div>
    </div>
  </div>
</div>

<app-block-ui [show]="isLoading"></app-block-ui>
