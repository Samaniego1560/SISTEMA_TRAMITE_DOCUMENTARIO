<ec-dialog [visible]="true" [style]="{'max-height': '80vh'}">
  <ng-template ecTemplate="header">
    <div class="w-full px-4 py-2 bg-brand text-center text-white rounded-t-lg">
      <div class="t-h2 font-bold">Detalle paciente</div>
    </div>
  </ng-template>
  <div class="w-full flex flex-col">
    <form class="h-full w-full flex flex-col">
      <div class="overflow-y-auto w-full h-full flex flex-col p-8 gap-8">
        <div class="w-full flex flex-col gap-4">
          <span class="text-brand-2 t-h2 font-bold">Anamnesis</span>
          <div class="grid grid-cols-2 md:grid-col-3 lg:grid-cols-4 gap-4">
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">Código SGA</div>
              <div class="i-default">{{ patient()?.codigo_sga }}</div>
            </div>
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">N° DNI</div>
              <div class="i-default">{{ patient()?.dni }}</div>
            </div>
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">Apellidos</div>
              <div class="i-default">{{ patient()?.apellidos }}</div>
            </div>
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">Nombres</div>
              <div class="i-default">{{ patient()?.nombres }}</div>
            </div>
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">Sexo</div>
              <div class="i-default">{{ patient()?.sexo }}</div>
            </div>
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">Edad</div>
              <div class="i-default">{{ patient()?.edad }}</div>
            </div>
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">Estado civil</div>
              <div class="i-default">{{ patient()?.estado_civil }}</div>
            </div>
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">Grupo Sanguineo</div>
              <div class="i-default">{{ patient()?.grupo_sanguineo }}</div>
            </div>
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">Fecha de nacimiento</div>
              <div class="i-default">{{ patient()?.fecha_nacimiento }}</div>
            </div>
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">Lugar de nacimiento</div>
              <div class="i-default">{{ patient()?.lugar_nacimiento }}</div>
            </div>
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">Procedencia</div>
              <div class="i-default">{{ patient()?.procedencia }}</div>
            </div>
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">RH</div>
              <div class="i-default">{{ patient()?.factor_rh }}</div>
            </div>
            <div class="w-full flex flex-col gap-1">
              <div class="label-default">RAM</div>
              <app-toggle-switch [id]="'ram'"
                                 [trueValue]="true" [falseValue]="false"
                                 [value]="!!patient()?.ram"
                                 [disabled]="true"
              ></app-toggle-switch>
            </div>
            @if (patient()?.ram) {
              <div class="w-full flex flex-col gap-1">
                <div class="label-default">RAM a medicamento</div>
                <div class="i-default">{{ patient()?.alergias }}</div>
              </div>
            }
          </div>
        </div>
        <div class="w-full flex flex-col gap-4">
          <span class="text-brand-2 t-h2 font-bold">Información adicional</span>
          <div class="grid grid-cols-2 md:grid-col-3 lg:grid-cols-4 gap-4">
            <div class="w-full flex-col flex gap-1">
              <div class="label-default">Escuela profesional</div>
              <div class="i-default">{{ patient()?.escuela_profesional }}</div>
            </div>
            <div class="w-full flex-col flex gap-1">
              <div class="label-default">Ocupación</div>
              <div class="i-default">{{ patient()?.ocupacion }}</div>
            </div>
            <div class="w-full flex-col flex gap-1">
              <div class="label-default">Correo institucional</div>
              <div class="i-default">{{ patient()?.correo_electronico }}</div>
            </div>
            <div class="w-full flex-col flex gap-1">
              <div class="label-default">N° telefónico</div>
              <div class="i-default">{{ patient()?.numero_celular }}</div>
            </div>
            <div class="w-full flex-col flex gap-1 col-span-2 md:col-span-3 lg:col-span-4">
              <div class="label-default">Dirección</div>
              <div class="i-default">{{ patient()?.direccion }}</div>
            </div>
          </div>
        </div>
        <div class="w-full flex flex-col gap-4">
          <span class="text-brand-2 t-h2 font-bold">Antecedentes</span>

          <div class="w-full">
            <ec-table class="w-full" [dataSource]="patient()?.antecedentes ?? []">

              <ng-template ecTemplate="header">
                <tr>
                  <th>{{ 'N°' }}</th>
                  <th>{{ 'Antecedente' }}</th>
                  <th>{{ 'Estado' }}</th>
                </tr>
              </ng-template>

              <ng-template ecTemplate="body" let-item let-index="index">
                <tr>
                  <td>{{ index + 1 }}</td>
                  <td>{{ item.nombre_antecedente }}</td>
                  <td>{{ item.estado_antecedente }}</td>
                </tr>
              </ng-template>
            </ec-table>
          </div>

        </div>
      </div>

      <div class="justify-end items-center gap-4 flex px-8 py-4 border-t border-gray-200 w-full">
        <button type="button" (click)="close.emit()" class="b-normal">
          salir
        </button>
      </div>
    </form>
  </div>
</ec-dialog>
